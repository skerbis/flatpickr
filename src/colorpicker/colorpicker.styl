/* Pickit ColorPicker Styles */

/* Variables */
$cp-radius = 8px
$cp-shadow = 0 4px 12px rgba(0, 0, 0, 0.15)
$cp-primary = #3b82f6
$cp-border = #e5e7eb
$cp-bg = #ffffff
$cp-text = #1f2937

/* Screen reader only */
.colorpicker-sr-only
  position absolute
  width 1px
  height 1px
  padding 0
  margin -1px
  overflow hidden
  clip rect(0, 0, 0, 0)
  white-space nowrap
  border-width 0

/* Container */
.colorpicker-container
  font-family system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif
  background $cp-bg
  border 1px solid $cp-border
  border-radius $cp-radius
  box-shadow $cp-shadow
  padding 16px
  width 280px
  user-select none
  
  &:focus-within
    outline 2px solid $cp-primary
    outline-offset 2px

/* Content */
.colorpicker-content
  display flex
  flex-direction column
  gap 16px

/* Saturation/Lightness Box */
.colorpicker-saturation
  position relative
  width 100%
  height 180px
  background linear-gradient(to top, #000, transparent), linear-gradient(to right, #fff, transparent)
  border-radius ($cp-radius - 2px)
  cursor crosshair
  overflow hidden
  
  &:focus
    outline 2px solid $cp-primary
    outline-offset 2px
  
  &:focus:not(:focus-visible)
    outline none

.colorpicker-saturation-overlay
  position absolute
  top 0
  left 0
  right 0
  bottom 0
  pointer-events none

.colorpicker-saturation-pointer
  position absolute
  width 20px
  height 20px
  border 3px solid #ffffff
  border-radius 50%
  box-shadow 0 2px 4px rgba(0, 0, 0, 0.3), inset 0 0 0 1px rgba(0, 0, 0, 0.1)
  transform translate(-50%, -50%)
  pointer-events none
  transition transform 0.1s ease
  
  @media (prefers-reduced-motion: reduce)
    transition none

/* Controls Section */
.colorpicker-controls
  display flex
  gap 12px
  align-items stretch

.colorpicker-sliders
  flex 1
  display flex
  flex-direction column
  gap 12px

.colorpicker-slider-group
  display flex
  flex-direction column
  gap 4px

.colorpicker-label
  font-size 12px
  font-weight 500
  color #6b7280
  text-transform uppercase
  letter-spacing 0.5px

/* Range Sliders */
.colorpicker-slider
  -webkit-appearance none
  appearance none
  width 100%
  height 8px
  border-radius 4px
  outline none
  cursor pointer
  
  &:focus
    box-shadow 0 0 0 2px $cp-primary
  
  &::-webkit-slider-thumb
    -webkit-appearance none
    appearance none
    width 18px
    height 18px
    border-radius 50%
    background #ffffff
    border 2px solid $cp-primary
    cursor pointer
    box-shadow 0 2px 4px rgba(0, 0, 0, 0.2)
    transition transform 0.1s ease
    
    &:hover
      transform scale(1.1)
    
    &:active
      transform scale(0.95)
  
  &::-moz-range-thumb
    width 18px
    height 18px
    border-radius 50%
    background #ffffff
    border 2px solid $cp-primary
    cursor pointer
    box-shadow 0 2px 4px rgba(0, 0, 0, 0.2)
    transition transform 0.1s ease
    
    &:hover
      transform scale(1.1)
    
    &:active
      transform scale(0.95)

/* Hue Slider */
.colorpicker-hue-slider
  background linear-gradient(to right, 
    hsl(0, 100%, 50%), 
    hsl(60, 100%, 50%), 
    hsl(120, 100%, 50%), 
    hsl(180, 100%, 50%), 
    hsl(240, 100%, 50%), 
    hsl(300, 100%, 50%), 
    hsl(360, 100%, 50%)
  )

/* Alpha Slider */
.colorpicker-alpha-slider
  background linear-gradient(to right, transparent, currentColor), linear-gradient(45deg, #ccc 25%, transparent 25%), linear-gradient(-45deg, #ccc 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #ccc 75%), linear-gradient(-45deg, transparent 75%, #ccc 75%)
  background-size 100%, 10px 10px, 10px 10px, 10px 10px, 10px 10px
  background-position 0 0, 0 0, 0 5px, 5px -5px, -5px 0px

/* Preview */
.colorpicker-preview
  width 48px
  height 100%
  display flex
  align-items stretch

.colorpicker-preview-color
  flex 1
  border-radius ($cp-radius - 2px)
  border 2px solid $cp-border
  box-shadow inset 0 2px 4px rgba(0, 0, 0, 0.05)
  background linear-gradient(45deg, #ccc 25%, transparent 25%), linear-gradient(-45deg, #ccc 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #ccc 75%), linear-gradient(-45deg, transparent 75%, #ccc 75%)
  background-size 10px 10px
  background-position 0 0, 0 5px, 5px -5px, -5px 0px

/* Input Group */
.colorpicker-input-group
  display flex
  flex-direction column
  gap 4px

.colorpicker-input
  width 100%
  padding 8px 12px
  border 1px solid $cp-border
  border-radius ($cp-radius - 2px)
  font-family 'Monaco', 'Menlo', monospace
  font-size 14px
  color $cp-text
  background $cp-bg
  transition border-color 0.2s ease, box-shadow 0.2s ease
  
  &:focus
    outline none
    border-color $cp-primary
    box-shadow 0 0 0 3px rgba(59, 130, 246, 0.1)
  
  &::placeholder
    color #9ca3af

/* Presets */
.colorpicker-presets
  display grid
  grid-template-columns repeat(8, 1fr)
  gap 8px
  padding-top 4px

.colorpicker-preset
  width 100%
  aspect-ratio 1
  border 2px solid transparent
  border-radius ($cp-radius - 4px)
  cursor pointer
  transition all 0.2s ease
  background linear-gradient(45deg, #ccc 25%, transparent 25%), linear-gradient(-45deg, #ccc 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #ccc 75%), linear-gradient(-45deg, transparent 75%, #ccc 75%)
  background-size 6px 6px
  background-position 0 0, 0 3px, 3px -3px, -3px 0px
  
  &:hover
    transform scale(1.15)
    border-color $cp-primary
    box-shadow 0 2px 8px rgba(0, 0, 0, 0.15)
  
  &:focus
    outline none
    border-color $cp-primary
    box-shadow 0 0 0 2px rgba(59, 130, 246, 0.3)
  
  &:active
    transform scale(0.95)

/* Dark Mode Support */
@media (prefers-color-scheme: dark)
  .colorpicker-container
    background #1f2937
    border-color #374151
    color #e5e7eb
  
  .colorpicker-label
    color #9ca3af
  
  .colorpicker-input
    background #111827
    border-color #374151
    color #f9fafb
    
    &:focus
      border-color #60a5fa
      box-shadow 0 0 0 3px rgba(96, 165, 250, 0.2)
  
  .colorpicker-preview-color
    border-color #374151
  
  .colorpicker-slider
    &:focus
      box-shadow 0 0 0 2px #60a5fa
    
    &::-webkit-slider-thumb
      border-color #60a5fa
    
    &::-moz-range-thumb
      border-color #60a5fa
  
  .colorpicker-preset
    &:hover
      border-color #60a5fa
    
    &:focus
      border-color #60a5fa
      box-shadow 0 0 0 2px rgba(96, 165, 250, 0.3)

/* High Contrast Mode */
@media (prefers-contrast: high)
  .colorpicker-container
    border-width 2px
  
  .colorpicker-saturation
    outline 2px solid currentColor
  
  .colorpicker-saturation-pointer
    border-width 4px
  
  .colorpicker-preset
    border-width 3px

/* Reduced Motion */
@media (prefers-reduced-motion: reduce)
  .colorpicker-slider::-webkit-slider-thumb
    transition none
  
  .colorpicker-slider::-moz-range-thumb
    transition none
  
  .colorpicker-preset
    transition none
  
  .colorpicker-input
    transition none
  
  .colorpicker-saturation-pointer
    transition none

/* Animation */
@keyframes colorpicker-fadeIn
  from
    opacity 0
    transform translateY(-8px)
  to
    opacity 1
    transform translateY(0)

.colorpicker-container:not([style*="display: none"])
  animation colorpicker-fadeIn 0.2s ease-out
  
  @media (prefers-reduced-motion: reduce)
    animation none
